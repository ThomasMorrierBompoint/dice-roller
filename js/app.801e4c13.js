(function(t){function e(e){for(var r,o,n=e[0],l=e[1],c=e[2],v=0,u=[];v<n.length;v++)o=n[v],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&u.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],r=!0,n=1;n<s.length;n++){var l=s[n];0!==a[l]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var r=s("8a23"),a=s.n(r);a.a},"56d7":function(t,e,s){"use strict";s.r(e);var r=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-toolbar",{attrs:{dense:""}},[s("v-toolbar-title",[t._v("Time "+t._s(t.time))]),s("v-spacer"),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.addUserDialog=!0}}},[s("v-icon",[t._v("mdi-account-group")])],1),s("v-btn",{attrs:{icon:""},on:{click:function(e){t.settingsDialog=!0}}},[s("v-icon",[t._v("mdi-settings")])],1)],1),s("v-card",{staticClass:"main-container",attrs:{dark:"",flat:"",tile:""}},[s("v-snackbar",{attrs:{color:t.snackbarColor,top:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+" ")]),s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.addUserDialog,callback:function(e){t.addUserDialog=e},expression:"addUserDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Add User")])]),s("v-card-text",[s("v-container",[s("form",{on:{submit:[function(t){t.preventDefault()},t.onAddUser]}},[s("v-text-field",{attrs:{label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("v-row",t._l(t.colors,(function(e){return s("v-col",{key:e,attrs:{sm:"2",xs:"3"}},[s("div",{style:t.userColor===e?{height:"56px",width:"56px",border:"solid white 4px","border-radius":"100%"}:{}},[s("v-avatar",{attrs:{color:e},on:{click:function(s){t.userColor=e}}})],1)])})),1)],1)])],1),s("v-card-actions",[s("v-btn",{staticClass:"mx-auto",attrs:{color:"primary"},on:{click:t.onAddUser}},[t._v("Save user")])],1),s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Delete User")])]),t._l(t.users,(function(e){return s("v-list-item",{key:e.id,on:{click:function(s){return t.onDeleteUser(e)}}},[s("v-list-item-avatar",[s("v-avatar",{attrs:{color:e.color,size:"40"}},[s("span",{staticClass:"headline"},[t._v(t._s(e.name[0]))])])],1),s("v-list-item-content",[s("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1),s("v-list-item-icon",[s("v-icon",[t._v("mdi-delete")])],1)],1)})),s("v-card-actions",[s("v-btn",{staticClass:"mx-auto mb-5",attrs:{color:"primary"},on:{click:function(e){t.addUserDialog=!1}}},[t._v("Close")])],1)],2)],1),s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.settingsDialog,callback:function(e){t.settingsDialog=e},expression:"settingsDialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("Settings")])]),s("v-card-text",[s("v-container",[s("v-switch",{attrs:{label:"Twelve sided die"},on:{change:t.onSaveStore},model:{value:t.store.twelveSidedDieEnabled,callback:function(e){t.$set(t.store,"twelveSidedDieEnabled",e)},expression:"store.twelveSidedDieEnabled"}}),s("v-btn",{staticClass:"mx-auto",attrs:{color:"primary",block:""},on:{click:t.onStartGame}},[t._v("Start New Game")])],1),s("v-container",[s("v-btn",{staticClass:"mx-auto",attrs:{color:"primary",block:""},on:{click:t.onRandomizePlayerOrder}},[t._v("Randomize order")])],1)],1),s("v-card-text",[s("v-container",[s("div",{staticClass:"headline"},[t._v("Drag to order list")])])],1),s("v-container",[s("grid",{attrs:{draggable:!0,sortable:!0,items:t.users},scopedSlots:t._u([{key:"cell",fn:function(e){return[s("v-list-item",{on:{change:function(s){return t.onChangeUsersOrder(e)}}},[s("v-list-item-avatar",[s("v-avatar",{attrs:{color:e.item.color,size:"40"}},[s("span",{staticClass:"headline"},[t._v(t._s(e.item.name[0]))])])],1)],1)]}}])})],1),s("v-card-actions",[s("v-btn",{staticClass:"mx-auto mb-5",attrs:{color:"primary"},on:{click:function(e){t.settingsDialog=!1}}},[t._v("Close")])],1)],1)],1),s("br"),t.currentUser?s("div",{staticClass:"d-flex justify-space-around"},[s("v-avatar",{attrs:{color:t.currentUser.color,size:"40"}},[s("span",{staticClass:"headline"},[t._v(t._s(t.currentUser.name[0]))])]),s("div",[s("v-btn",{attrs:{"min-width":"150",color:t.currentUser.color,disabled:!t.currentUser},on:{click:t.onRoll}},[s("span",[t._v("Roll")]),s("v-icon",{staticClass:"ml-1"},[t._v("mdi-dice-multiple")])],1)],1),s("div",{on:{click:function(e){return t.onRevertLastRoll()}}},[s("v-icon",[t._v("mdi-restore")])],1)],1):t._e(),s("ul",{staticStyle:{display:"none"}},[s("li",[t._v("Add alert + debounce onRevertLastRoll")]),s("li",[t._v("Add alert avant de start une game")])]),t.store.twelveSidedDieEnabled?s("div",{staticStyle:{"min-height":"100px"}},[s("transition",{attrs:{name:"fade"}},[t.diceLog.length&&!t.rollDisabled?s("div",{staticClass:"twelve-sided-die d-flex justify-center",on:{click:t.onRoll}},[s("span",[t._v(t._s(t.currentDice[2]))]),s("svg",{staticStyle:{"enable-background":"new 0 0 511.995 511.995"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 511.995 511.995","xml:space":"preserve"}},[s("g",[s("g",[s("path",{attrs:{d:"M507.807,200.272L262.474,12.859c-3.819-2.923-9.109-2.923-12.949,0L4.191,200.272c-3.627,2.773-5.077,7.509-3.648,11.84 l93.717,281.92c1.451,4.352,5.547,7.296,10.133,7.296h303.253c4.608,0,8.683-2.944,10.091-7.296l93.717-281.92 C512.885,207.803,511.413,203.046,507.807,200.272z M399.946,479.995H112.095L23.221,212.582L256.031,34.747l232.811,177.856 L399.946,479.995z"}})])]),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g"),t._v(" "),s("g")])]):t._e()])],1):t._e(),s("div",{staticStyle:{"min-height":"150px"}},[s("transition",{attrs:{name:"fade"}},[t.diceLog.length&&!t.rollDisabled?s("div",{staticClass:"d-flex justify-space-around align-center",on:{click:function(e){return t.onRoll()}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"150",height:"150",viewBox:"0 0 24 24"}},[s("rect",{attrs:{fill:"white",x:"15%",y:"15%",width:"70%",height:"70%"}}),s("path",{attrs:{fill:t.lastUser.color,d:t.dice[t.currentDice[0]-1]}})]),s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"150",height:"150",viewBox:"0 0 24 24"}},[s("rect",{attrs:{fill:"white",x:"15%",y:"15%",width:"70%",height:"70%"}}),s("path",{attrs:{fill:t.lastUser.color,d:t.dice[t.currentDice[1]-1]}})])]):t._e()])],1),s("v-list",{staticClass:"mt-3 ml-5 mr-5",staticStyle:{"max-height":"calc(100vh - 430px)","overflow-y":"auto"}},[s("transition-group",{attrs:{name:"list-complete",tag:"div"}},t._l(t.diceLog,(function(e){return s("v-list-item",{key:e.timestamp,staticClass:"list-complete-item headline"},[s("v-list-item-avatar",[s("v-avatar",{attrs:{color:e.user.color,size:"40"}},[s("span",[t._v(t._s(e.user.name[0]))])])],1),s("v-list-item-content",[s("div",{staticClass:"d-flex justify-space-around align-content-center"},[s("div",{staticClass:"primary--text display-2"},[t._v(t._s(e.dice[0]+e.dice[1]))]),t.store.twelveSidedDieEnabled?s("div",[t._v(t._s(e.dice[2]))]):t._e()])])],1)})),1)],1)],1)],1)},i=[],o={name:"App",data:()=>({name:"",userColor:"",colors:["#F44336","#E91E63","#9C27B0","#3F51B5","#2196F3","#00BCD4","#009688","#4CAF50","#CDDC39","#FFC107","#FF9800","#607D8B"],snackbar:!1,snackbarText:"",snackbarColor:"success",addUserDialog:!1,settingsDialog:!1,chronometer:0,rollDisabled:!1,dice:["M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10Z","M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M7,5A2,2 0 0,0 5,7A2,2 0 0,0 7,9A2,2 0 0,0 9,7A2,2 0 0,0 7,5M17,15A2,2 0 0,0 15,17A2,2 0 0,0 17,19A2,2 0 0,0 19,17A2,2 0 0,0 17,15Z","M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M7,5A2,2 0 0,0 5,7A2,2 0 0,0 7,9A2,2 0 0,0 9,7A2,2 0 0,0 7,5M17,15A2,2 0 0,0 15,17A2,2 0 0,0 17,19A2,2 0 0,0 19,17A2,2 0 0,0 17,15Z","M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M7,5A2,2 0 0,0 5,7A2,2 0 0,0 7,9A2,2 0 0,0 9,7A2,2 0 0,0 7,5M17,15A2,2 0 0,0 15,17A2,2 0 0,0 17,19A2,2 0 0,0 19,17A2,2 0 0,0 17,15M17,5A2,2 0 0,0 15,7A2,2 0 0,0 17,9A2,2 0 0,0 19,7A2,2 0 0,0 17,5M7,15A2,2 0 0,0 5,17A2,2 0 0,0 7,19A2,2 0 0,0 9,17A2,2 0 0,0 7,15Z","M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M7,5A2,2 0 0,0 5,7A2,2 0 0,0 7,9A2,2 0 0,0 9,7A2,2 0 0,0 7,5M17,15A2,2 0 0,0 15,17A2,2 0 0,0 17,19A2,2 0 0,0 19,17A2,2 0 0,0 17,15M17,5A2,2 0 0,0 15,7A2,2 0 0,0 17,9A2,2 0 0,0 19,7A2,2 0 0,0 17,5M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M7,15A2,2 0 0,0 5,17A2,2 0 0,0 7,19A2,2 0 0,0 9,17A2,2 0 0,0 7,15Z","M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M7,5A2,2 0 0,0 5,7A2,2 0 0,0 7,9A2,2 0 0,0 9,7A2,2 0 0,0 7,5M17,15A2,2 0 0,0 15,17A2,2 0 0,0 17,19A2,2 0 0,0 19,17A2,2 0 0,0 17,15M17,10A2,2 0 0,0 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10M17,5A2,2 0 0,0 15,7A2,2 0 0,0 17,9A2,2 0 0,0 19,7A2,2 0 0,0 17,5M7,10A2,2 0 0,0 5,12A2,2 0 0,0 7,14A2,2 0 0,0 9,12A2,2 0 0,0 7,10M7,15A2,2 0 0,0 5,17A2,2 0 0,0 7,19A2,2 0 0,0 9,17A2,2 0 0,0 7,15Z"],store:{users:[],startTime:Date.now(),dice:[1,1,1],diceLog:[],twelveSidedDieEnabled:!0}}),computed:{time(){return this.chronometer},users(){return this.store.users.slice()},currentUser(){return this.store.users.find(t=>t.active)},lastUser(){return this.store.users[this.store.users.length-1]},currentDice(){return this.store.dice},diceLog(){return this.store.diceLog.slice()}},beforeMount(){let t=localStorage.getItem("store");t&&(this.store=JSON.parse(t)),this.store.users.length||this.store.users.push({id:this.createId(),name:"Tom",color:this.colors[5],active:!1}),this.setUsersIndex()},mounted(){window.clock=setInterval(function(){const t=Math.floor((Date.now()-this.store.startTime)/1e3);if(t<Number.MAX_VALUE){let e=Math.floor(t/3600),s=Math.floor((t-3600*e)/60);e&&s<10&&(s="0"+s),this.chronometer=e>0?e+":"+s:""+s}else this.chronometer=0}.bind(this),1e3),document.addEventListener("keyup",t=>{"Space"===t.code||"ArrowRight"===t.code?this.onRoll():"Backspace"!==t.code&&"ArrowLeft"!==t.code||this.onRevertLastRoll()})},methods:{createId(){return Math.floor(Math.random()*Date.now())},shuffleArray(t=[]){let e=Date.now()%10+10;for(let s=0;s<e;s++)for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*e),r=t[e];t[e]=t[s],t[s]=r}return t},onSaveStore(){localStorage.setItem("store",JSON.stringify(this.store))},onStartGame(){this.store.dice=[1,1,1],this.store.diceLog=[],this.store.startTime=Date.now(),this.setUsersIndex(),this.onSaveStore()},onRoll(){if(this.rollDisabled)return;this.rollDisabled=!0;const t=this.createId(),e=Date.now(),s=this.store.users.shift();this.store.users.push(s);const r=1+Math.floor(6*Math.random()),a=1+Math.floor(6*Math.random()),i=1+Math.floor(12*Math.random()),o=[r,a,i];this.store.dice=o.slice(),this.store.diceLog.unshift({id:t,timestamp:e,user:s,dice:o}),this.setUsersIndex(),this.onSaveStore(),setTimeout(function(){this.rollDisabled=!1}.bind(this),500)},onRevertLastRoll(){if(this.rollDisabled)return;this.rollDisabled=!0,this.store.diceLog.shift(),this.store.diceLog.length&&(this.store.dice=this.store.diceLog[0].dice);const t=this.store.users.slice(),e=t.pop();t.unshift(e),this.store.users=t,this.setUsersIndex(),this.onSaveStore(),setTimeout(function(){this.rollDisabled=!1}.bind(this),1500)},onAddUser(){const t=this.createId(),e=this.name&&this.name[0].toUpperCase()+this.name.slice(1,100),s=this.userColor;let r="";if(e||(r+=" - name"),s||(r+=" - color"),this.store.users.find(t=>t.name===e)&&(r+=" - Name already taken"),r)return this.snackbar=!0,this.snackbarText="Error "+r,void(this.snackbarColor="error");this.store.users.push({id:t,name:e,color:s,active:!1}),this.onSaveStore(),this.name="",this.userColor="",this.addUserDialog=!1},onDeleteUser(t){this.store.users=this.store.users.filter(e=>e.id!==t.id),this.onSaveStore()},onRandomizePlayerOrder(){this.store.users=this.shuffleArray(this.store.users.slice())},onChangeUsersOrder(t){const e=this.store.users.splice(t.index,1)[0];this.store.users.splice(t.sort,0,e),this.setUsersIndex(),this.onSaveStore()},setUsersIndex(){this.store.users.forEach((t,e)=>{t.index=e,t.active=0===e})}}},n=o,l=(s("034f"),s("2877")),c=s("6544"),d=s.n(c),v=s("7496"),u=s("8212"),h=s("8336"),m=s("b0af"),A=s("99d9"),p=s("62ad"),f=s("a523"),g=s("169a"),b=s("132d"),w=s("8860"),x=s("da13"),_=s("8270"),k=s("5d23"),y=s("34c3"),C=s("0fd9"),D=s("2db4"),M=s("2fa4"),S=s("b73d"),V=s("8654"),U=s("71d9"),L=s("2a7f"),T=Object(l["a"])(n,a,i,!1,null,null,null),I=T.exports;d()(T,{VApp:v["a"],VAvatar:u["a"],VBtn:h["a"],VCard:m["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:A["c"],VCol:p["a"],VContainer:f["a"],VDialog:g["a"],VIcon:b["a"],VList:w["a"],VListItem:x["a"],VListItemAvatar:_["a"],VListItemContent:k["a"],VListItemIcon:y["a"],VListItemTitle:k["b"],VRow:C["a"],VSnackbar:D["a"],VSpacer:M["a"],VSwitch:S["a"],VTextField:V["a"],VToolbar:U["a"],VToolbarTitle:L["a"]});var R=s("f309");s("5363");s("d4b8"),r["a"].use(R["a"]);var O=new R["a"]({theme:{dark:!0}}),j=s("d277"),E=s.n(j);r["a"].use(E.a),r["a"].config.productionTip=!1,new r["a"]({vuetify:O,render:function(t){return t(I)}}).$mount("#app")},"8a23":function(t,e,s){}});
//# sourceMappingURL=app.801e4c13.js.map